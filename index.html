<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Hello, AR World! • A-Frame</title>
  <meta name="description" content="Hello, AR World! • A-Frame">
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.3/aframe/build/aframe-ar.min.js"></script>
  <!-- script src="https://aframe.io/aframe/dist/aframe-master.min.js"></script -->
  <script>
    AFRAME.registerComponent('follow-shadow', {
      schema: { type: 'selector' },
      init() { this.el.object3D.renderOrder = -1; },
      tick() {
        if (this.data) {
          this.el.object3D.position.copy(this.data.object3D.position);
          this.el.object3D.position.y -= 0.001; // stop z-fighting
        }
      }
    });
  </script>
</head>

<body>
  <a-scene webxr="mode: ar; optionalFeatures: hit-test;" reflection="directionalLight: a-light[type=directional]"
    ar-hit-test="target: #objects;" renderer="colorManagement: true; exposure: 1; toneMapping: ACESFilmic"
    shadow="type: pcfsoft" xr-mode-ui="XRMode: xr">
    <a-light type="directional" light="castShadow:true;" position="1 1 1" intensity="1.57"
      shadow-camera-automatic="#objects"></a-light>
    <a-camera position="0 0.4 0" wasd-controls="acceleration:10;"></a-camera>
    <a-entity id="objects" scale="0.25 0.25 0.25" position="0 0 -1" shadow>
      <!-- Snowman -->
      <a-entity id="snowman" position="-1 0 0">
        <!-- Bottom body -->
        <a-sphere position="0 0.5 0" radius="0.5" color="#FFFFFF" shadow></a-sphere>
        <!-- Middle body -->
        <a-sphere position="0 1.15 0" radius="0.35" color="#FFFFFF" shadow></a-sphere>
        <!-- Head -->
        <a-sphere position="0 1.65 0" radius="0.25" color="#FFFFFF" shadow></a-sphere>
        <!-- Eyes -->
        <a-sphere position="-0.07 1.7 0.22" radius="0.03" color="#000000"></a-sphere>
        <a-sphere position="0.07 1.7 0.22" radius="0.03" color="#000000"></a-sphere>
        <!-- Nose (carrot) -->
        <a-cone position="0 1.65 0.3" radius-bottom="0.03" radius-top="0" height="0.15" color="#FF6600"
          rotation="90 0 0"></a-cone>
        <!-- Hat -->
        <a-cylinder position="0 1.85 0" radius="0.18" height="0.1" color="#000000"></a-cylinder>
        <a-cylinder position="0 1.95 0" radius="0.1" height="0.2" color="#000000"></a-cylinder>
      </a-entity>

      <!-- Pine Tree -->
      <a-entity id="pine-tree" position="1 0 0">
        <!-- Trunk -->
        <a-cylinder position="0 0.4 0" radius="0.08" height="0.8" color="#8B5A2B" shadow></a-cylinder>
        <!-- Lower foliage -->
        <a-cone position="0 1.0 0" radius-bottom="0.6" radius-top="0" height="0.8" color="#0B6623" shadow></a-cone>
        <!-- Middle foliage -->
        <a-cone position="0 1.4 0" radius-bottom="0.45" radius-top="0" height="0.6" color="#0B6623" shadow></a-cone>
        <!-- Top foliage -->
        <a-cone position="0 1.7 0" radius-bottom="0.3" radius-top="0" height="0.4" color="#0B6623" shadow></a-cone>
      </a-entity>
    </a-entity>

    <a-plane follow-shadow="#objects" material="shader:shadow" shadow="cast:false;" rotation="-90 0 0" width="2"
      height="2"></a-plane>
  </a-scene>
</body>

</html>